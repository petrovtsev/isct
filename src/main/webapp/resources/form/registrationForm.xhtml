<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">


    <h:outputStylesheet library="css" name="registration-form-style.css"/>

    <h:form>

        <div class="container" id="registration-box">
            <div class="row">
                <div class="col-md-12">
                    <h3 class="color-blue">Registration Form</h3>
                </div>
                <div class="col-md-6">

                    <p:panelGrid columns="1" columnClasses="ui-grid-col-2,ui-grid-col-10"
                                 styleClass="ui-panelgrid-blank">

                        <p:outputLabel value="Title *"/>
                        <h:selectOneMenu styleClass="one-menu" value="#{registrationController.guest.title}">
                            <f:selectItems value="#{registrationController.titles}"
                                           var="title"
                                           itemValue="#{title}"
                                           itemLabel="#{title.name}"/>
                        </h:selectOneMenu>

                        <p:outputLabel value="First name *"/>
                        <p:inputText value="#{registrationController.guest.firstName}"
                                     required="true">
                            <p:keyFilter regEx="/[ABC]/i"/>
                        </p:inputText>

                        <p:outputLabel value="Last name *"/>
                        <p:inputText value="#{registrationController.guest.lastName}"
                                     required="true"/>

                        <p:outputLabel value="Email *"/>
                        <p:inputText value="#{registrationController.guest.email}"
                                     required="true">
                            <p:keyFilter regEx="/[a-z0-9_\.\-@]/i"/>
                        </p:inputText>

                        <p:outputLabel value="Phone"/>
                        <p:inputText value="#{registrationController.guest.phone}"/>
                    </p:panelGrid>
                </div>
                <div class="col-md-6">
                    <p:panelGrid columns="1" columnClasses="ui-grid-col-2,ui-grid-col-10"
                                 styleClass="ui-panelgrid-blank">
                        <p:outputLabel value="Country *"/>
                        <p:inputText value="#{registrationController.guest.country}"
                                     required="true"/>

                        <p:outputLabel value="City"/>
                        <p:inputText value="#{registrationController.guest.city}"/>

                        <p:outputLabel value="Organization"/>
                        <p:inputText value="#{registrationController.guest.organization}"/>

                        <p:outputLabel value="Your requests and questions"/>
                        <p:inputText value="#{registrationController.guest.otherSupport}"/>
                    </p:panelGrid>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <br/>
                    <h3 class="color-blue">Category</h3>

                    <p:selectOneRadio id="radio" value="#{registrationController.typeId}" layout="responsive"
                                      columns="3">
                        <p:ajax update="mbr, price" event="valueChange"
                                listener="#{registrationController.changeTypeListener}"/>
                        <f:selectItems value="#{registrationController.allGuestTypes}" var="type"
                                       itemLabel="#{type.nameRu}"
                                       itemValue="#{type.id}"/>
                    </p:selectOneRadio>

                    <br/>

                    <p:panelGrid columns="1"
                                 id="mbr"
                                 columnClasses="ui-grid-col-2,ui-grid-col-10"
                                 styleClass="ui-panelgrid-blank">
                        <p:outputLabel value="Номер членского билета в IEEE *"
                                       rendered="#{registrationController.guest.guestType.member}"/>
                        <p:inputText value="#{registrationController.guest.memberNumber}"
                                     rendered="#{registrationController.guest.guestType.member}"
                                     required="true"
                                     placeholder="9999-9999"/>
                    </p:panelGrid>

                    <p:panelGrid columns="2"
                                 columnClasses="ui-grid-col-10,ui-grid-col-2"
                                 styleClass="ui-panelgrid-blank">
                        <p:outputLabel value="Visa support" style="min-width: 120px"/>
                        <p:inputSwitch value="#{registrationController.guest.visaSupport}"
                                       offLabel="No"
                                       onLabel="Yes"
                                       styleClass="switch"/>
                    </p:panelGrid>

                    <div class="price-box">
                        <p:outputLabel styleClass="price-label hidden-sm hidden-xs" value="Price:&#160;"/>
                        <p:outputLabel styleClass="price-label" id="price"
                                       value="€#{registrationController.guest.guestType.price}"/>
                    </div>

                    <br/>

                    <h:commandLink styleClass="btn-custom btn btn-success btn-blue btn-lg"
                                   value="Pay now"
                                   action="#{registrationController.registration('en')}"/>

                </div>
            </div>
        </div>
    </h:form>

</ui:composition>
